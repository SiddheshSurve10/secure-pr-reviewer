# Railway. app configuration for secure-pr-reviewer
# Documentation: https://docs.railway.app

$schema: https://railway.app/railway.schema.json

# Build configuration
build:
  builder: dockerfile
  dockerfile: Dockerfile
  context: .

# Deploy configuration
deploy:
  startCommand: npm start
  restartPolicyMaxRetries: 5
  restartPolicyWindow: 600

# Environment variables (set these in Railway dashboard)
variables:
  NODE_ENV: production
  PORT:  3000
  LOG_LEVEL: info

# Service configuration
services:
  app:
    build: 
      dockerfile: Dockerfile
    environment:
      NODE_ENV: production
      PORT:  3000
    healthchecks:
      - path: /health
        interval: 30
        timeout: 10
        start_period: 60